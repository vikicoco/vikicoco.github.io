<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>计算机网络 | viki</title>
    <meta name="generator" content="VuePress 1.9.2">
    <link rel="icon" href="/img/logo2.jpg">
    <meta name="description" content="viki`s blog">
    <meta name="keywords" content="vuepress,theme,blog,vdoing">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.c0a13355.css" as="style"><link rel="preload" href="/assets/js/app.9f1ace71.js" as="script"><link rel="preload" href="/assets/js/2.acae172f.js" as="script"><link rel="preload" href="/assets/js/3.71c56e22.js" as="script"><link rel="preload" href="/assets/js/65.67a9e6c2.js" as="script"><link rel="prefetch" href="/assets/js/10.ef41a5b1.js"><link rel="prefetch" href="/assets/js/11.c5e9df66.js"><link rel="prefetch" href="/assets/js/12.562d0b11.js"><link rel="prefetch" href="/assets/js/13.94b7f0ec.js"><link rel="prefetch" href="/assets/js/14.b308bbdc.js"><link rel="prefetch" href="/assets/js/15.cf843c7e.js"><link rel="prefetch" href="/assets/js/16.eccd0ad4.js"><link rel="prefetch" href="/assets/js/17.35053421.js"><link rel="prefetch" href="/assets/js/18.b88e13b3.js"><link rel="prefetch" href="/assets/js/19.59076647.js"><link rel="prefetch" href="/assets/js/20.ccd4e286.js"><link rel="prefetch" href="/assets/js/21.dd65ce2e.js"><link rel="prefetch" href="/assets/js/22.c21d9f43.js"><link rel="prefetch" href="/assets/js/23.e687f0f8.js"><link rel="prefetch" href="/assets/js/24.2edf3fee.js"><link rel="prefetch" href="/assets/js/25.d7d6d1b7.js"><link rel="prefetch" href="/assets/js/26.96d64e54.js"><link rel="prefetch" href="/assets/js/27.4369a1fd.js"><link rel="prefetch" href="/assets/js/28.6173ce2d.js"><link rel="prefetch" href="/assets/js/29.39e00150.js"><link rel="prefetch" href="/assets/js/30.aae0affa.js"><link rel="prefetch" href="/assets/js/31.0d6e99fe.js"><link rel="prefetch" href="/assets/js/32.ee97954c.js"><link rel="prefetch" href="/assets/js/33.b57f7d4e.js"><link rel="prefetch" href="/assets/js/34.d1a06cd8.js"><link rel="prefetch" href="/assets/js/35.f03191b7.js"><link rel="prefetch" href="/assets/js/36.acdab7e0.js"><link rel="prefetch" href="/assets/js/37.17181c7a.js"><link rel="prefetch" href="/assets/js/38.15c2be1c.js"><link rel="prefetch" href="/assets/js/39.0eb4c654.js"><link rel="prefetch" href="/assets/js/4.3e1c98e7.js"><link rel="prefetch" href="/assets/js/40.08695d3c.js"><link rel="prefetch" href="/assets/js/41.edee4acc.js"><link rel="prefetch" href="/assets/js/42.d4a6bc7c.js"><link rel="prefetch" href="/assets/js/43.92060097.js"><link rel="prefetch" href="/assets/js/44.8648b83f.js"><link rel="prefetch" href="/assets/js/45.3d313376.js"><link rel="prefetch" href="/assets/js/46.2b51c3e0.js"><link rel="prefetch" href="/assets/js/47.69ecfee9.js"><link rel="prefetch" href="/assets/js/48.23ea4519.js"><link rel="prefetch" href="/assets/js/49.cb9f1ef1.js"><link rel="prefetch" href="/assets/js/5.70e5e3ae.js"><link rel="prefetch" href="/assets/js/50.2b121fe3.js"><link rel="prefetch" href="/assets/js/51.2dfa2a49.js"><link rel="prefetch" href="/assets/js/52.92f1b878.js"><link rel="prefetch" href="/assets/js/53.9e9a9fb3.js"><link rel="prefetch" href="/assets/js/54.993eb48a.js"><link rel="prefetch" href="/assets/js/55.3afde6ef.js"><link rel="prefetch" href="/assets/js/56.c47fcc4f.js"><link rel="prefetch" href="/assets/js/57.d201f2d6.js"><link rel="prefetch" href="/assets/js/58.c7cab613.js"><link rel="prefetch" href="/assets/js/59.68012960.js"><link rel="prefetch" href="/assets/js/6.3240da3a.js"><link rel="prefetch" href="/assets/js/60.97a67ff7.js"><link rel="prefetch" href="/assets/js/61.0ae18e2f.js"><link rel="prefetch" href="/assets/js/62.2585e98e.js"><link rel="prefetch" href="/assets/js/63.0337fa3c.js"><link rel="prefetch" href="/assets/js/64.6cdb3af2.js"><link rel="prefetch" href="/assets/js/66.c4cf09c9.js"><link rel="prefetch" href="/assets/js/67.32b4df95.js"><link rel="prefetch" href="/assets/js/68.d6e4fac3.js"><link rel="prefetch" href="/assets/js/69.27a8cf28.js"><link rel="prefetch" href="/assets/js/7.7db7c6ce.js"><link rel="prefetch" href="/assets/js/70.56280f39.js"><link rel="prefetch" href="/assets/js/71.db0bef2a.js"><link rel="prefetch" href="/assets/js/72.ea0db57a.js"><link rel="prefetch" href="/assets/js/73.fe988115.js"><link rel="prefetch" href="/assets/js/74.3c725cc1.js"><link rel="prefetch" href="/assets/js/75.b2ea4d75.js"><link rel="prefetch" href="/assets/js/76.1da2c1a8.js"><link rel="prefetch" href="/assets/js/77.f5326468.js"><link rel="prefetch" href="/assets/js/78.ed3ceb1c.js"><link rel="prefetch" href="/assets/js/79.e510d25f.js"><link rel="prefetch" href="/assets/js/8.4b447818.js"><link rel="prefetch" href="/assets/js/80.46a50c1e.js"><link rel="prefetch" href="/assets/js/81.9aee972d.js"><link rel="prefetch" href="/assets/js/82.b97f0246.js"><link rel="prefetch" href="/assets/js/83.1f8976a4.js"><link rel="prefetch" href="/assets/js/9.aa59e582.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c0a13355.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo2.jpg" alt="viki" class="logo"> <span class="site-name can-hide">viki</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><!----> <span class="title" style="display:;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>语法框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/69d591/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/pages/862342/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/pages/0e295d/" class="nav-link">JavaScript</a></li><li class="dropdown-subitem"><a href="/pages/dbd4b7/" class="nav-link">ES6</a></li><li class="dropdown-subitem"><a href="/pages/ec02d8/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/pages/1257a3/" class="nav-link">Element-UI</a></li><li class="dropdown-subitem"><a href="https://cli.vuejs.org/zh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue-CLI
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>部署构建</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/862342/" class="nav-link">npm</a></li><li class="dropdown-subitem"><a href="/pages/e743fe/" class="nav-link">yarn</a></li><li class="dropdown-subitem"><a href="/pages/7038b1/" class="nav-link">webpack</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><!----> <span class="title" style="display:;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/" class="nav-link">Java基础</a></li><li class="dropdown-item"><!----> <a href="/" class="nav-link">Java集合</a></li><li class="dropdown-item"><!----> <a href="/" class="nav-link">Java线程</a></li><li class="dropdown-item"><!----> <a href="/" class="nav-link">JUC</a></li><li class="dropdown-item"><!----> <a href="/pages/e4d55d/" class="nav-link">Java8新特性</a></li><li class="dropdown-item"><!----> <a href="/" class="nav-link">Java11新特性</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Go" class="dropdown-title"><!----> <span class="title" style="display:;">Go</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://go.dev/doc/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Go docs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.topgoer.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Go Easystart
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://docs.docker.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Dokcer docs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://kubernetes.io/zh/docs/home/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  kubernetes docs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><!----> <span class="title" style="display:;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/659d0f/" class="nav-link">MySQL</a></li><li class="dropdown-item"><!----> <a href="/pages/7e8569/" class="nav-link">Redis</a></li><li class="dropdown-item"><!----> <a href="/pages/7c9b4b/" class="nav-link">MongoDB</a></li><li class="dropdown-item"><!----> <a href="/" class="nav-link">ElasticSearch</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><!----> <span class="title" style="display:;">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/" class="nav-link">数据结构</a></li><li class="dropdown-item"><!----> <a href="/" class="nav-link">排序算法</a></li><li class="dropdown-item"><!----> <a href="/" class="nav-link">查找算法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Spring&amp;框架" class="dropdown-title"><!----> <span class="title" style="display:;">Spring&amp;框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Spring系列</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/a832bb/" class="nav-link">Spring</a></li><li class="dropdown-subitem"><a href="/pages/35de30/" class="nav-link">Spring MVC</a></li><li class="dropdown-subitem"><a href="/pages/d803de/" class="nav-link">Spring Boot</a></li><li class="dropdown-subitem"><a href="/pages/d803de/" class="nav-link">Spring Native</a></li></ul></li><li class="dropdown-item"><h4>Spring Cloud</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/" class="nav-link">Spring GateWay</a></li><li class="dropdown-subitem"><a href="/" class="nav-link">Spring Eureka</a></li><li class="dropdown-subitem"><a href="/" class="nav-link">Spring Nacos</a></li><li class="dropdown-subitem"><a href="/" class="nav-link">Spring Feign</a></li><li class="dropdown-subitem"><a href="/" class="nav-link">Spring Hystrix</a></li><li class="dropdown-subitem"><a href="/" class="nav-link">Spring Sentinel</a></li></ul></li><li class="dropdown-item"><h4>ORM框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/5c205b/" class="nav-link">MyBatis</a></li><li class="dropdown-subitem"><a href="/pages/4e88d5/" class="nav-link">MyBatis-Plus</a></li></ul></li><li class="dropdown-item"><h4>常用框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/" class="nav-link">RabbitMQ</a></li><li class="dropdown-subitem"><a href="/pages/ec2247/" class="nav-link">EasyExcel</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><!----> <span class="title" style="display:;">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>构建部署</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/4a375c/" class="nav-link">Git</a></li><li class="dropdown-subitem"><a href="/pages/374a76/" class="nav-link">Maven</a></li><li class="dropdown-subitem"><a href="/pages/711d35/" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/pages/118379/" class="nav-link">Docker</a></li><li class="dropdown-subitem"><a href="/" class="nav-link">Nginx</a></li></ul></li><li class="dropdown-item"><h4>开发调试</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/d1300e/" class="nav-link">IDEA</a></li><li class="dropdown-subitem"><a href="/pages/5451e7/" class="nav-link">VScode</a></li><li class="dropdown-subitem"><a href="/pages/155967/" class="nav-link">Swagger2</a></li><li class="dropdown-subitem"><a href="/" class="nav-link">Apifox</a></li><li class="dropdown-subitem"><a href="/" class="nav-link">Postman</a></li></ul></li><li class="dropdown-item"><h4>网络&amp;其他</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/78eaba/" aria-current="page" class="nav-link router-link-exact-active router-link-active">计算机网络</a></li><li class="dropdown-subitem"><a href="/pages/c027ac/" class="nav-link">设计模式</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/" class="nav-link">设计</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关于" class="dropdown-title"><!----> <span class="title" style="display:;">关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/46344d/" class="nav-link">好用利器</a></li><li class="dropdown-item"><!----> <a href="/pages/2c260b/" class="nav-link">细读文章</a></li><li class="dropdown-item"><!----> <a href="/" class="nav-link">看一本书</a></li><li class="dropdown-item"><!----> <a href="/" class="nav-link">日常发呆</a></li><li class="dropdown-item"><!----> <a href="/" class="nav-link">联系我</a></li></ul></div></div> <a href="https://github.com/vikicoco" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><!----> <span class="title" style="display:;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>语法框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/69d591/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/pages/862342/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/pages/0e295d/" class="nav-link">JavaScript</a></li><li class="dropdown-subitem"><a href="/pages/dbd4b7/" class="nav-link">ES6</a></li><li class="dropdown-subitem"><a href="/pages/ec02d8/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/pages/1257a3/" class="nav-link">Element-UI</a></li><li class="dropdown-subitem"><a href="https://cli.vuejs.org/zh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue-CLI
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>部署构建</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/862342/" class="nav-link">npm</a></li><li class="dropdown-subitem"><a href="/pages/e743fe/" class="nav-link">yarn</a></li><li class="dropdown-subitem"><a href="/pages/7038b1/" class="nav-link">webpack</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><!----> <span class="title" style="display:;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/" class="nav-link">Java基础</a></li><li class="dropdown-item"><!----> <a href="/" class="nav-link">Java集合</a></li><li class="dropdown-item"><!----> <a href="/" class="nav-link">Java线程</a></li><li class="dropdown-item"><!----> <a href="/" class="nav-link">JUC</a></li><li class="dropdown-item"><!----> <a href="/pages/e4d55d/" class="nav-link">Java8新特性</a></li><li class="dropdown-item"><!----> <a href="/" class="nav-link">Java11新特性</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Go" class="dropdown-title"><!----> <span class="title" style="display:;">Go</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://go.dev/doc/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Go docs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.topgoer.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Go Easystart
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://docs.docker.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Dokcer docs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://kubernetes.io/zh/docs/home/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  kubernetes docs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><!----> <span class="title" style="display:;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/659d0f/" class="nav-link">MySQL</a></li><li class="dropdown-item"><!----> <a href="/pages/7e8569/" class="nav-link">Redis</a></li><li class="dropdown-item"><!----> <a href="/pages/7c9b4b/" class="nav-link">MongoDB</a></li><li class="dropdown-item"><!----> <a href="/" class="nav-link">ElasticSearch</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><!----> <span class="title" style="display:;">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/" class="nav-link">数据结构</a></li><li class="dropdown-item"><!----> <a href="/" class="nav-link">排序算法</a></li><li class="dropdown-item"><!----> <a href="/" class="nav-link">查找算法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Spring&amp;框架" class="dropdown-title"><!----> <span class="title" style="display:;">Spring&amp;框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Spring系列</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/a832bb/" class="nav-link">Spring</a></li><li class="dropdown-subitem"><a href="/pages/35de30/" class="nav-link">Spring MVC</a></li><li class="dropdown-subitem"><a href="/pages/d803de/" class="nav-link">Spring Boot</a></li><li class="dropdown-subitem"><a href="/pages/d803de/" class="nav-link">Spring Native</a></li></ul></li><li class="dropdown-item"><h4>Spring Cloud</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/" class="nav-link">Spring GateWay</a></li><li class="dropdown-subitem"><a href="/" class="nav-link">Spring Eureka</a></li><li class="dropdown-subitem"><a href="/" class="nav-link">Spring Nacos</a></li><li class="dropdown-subitem"><a href="/" class="nav-link">Spring Feign</a></li><li class="dropdown-subitem"><a href="/" class="nav-link">Spring Hystrix</a></li><li class="dropdown-subitem"><a href="/" class="nav-link">Spring Sentinel</a></li></ul></li><li class="dropdown-item"><h4>ORM框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/5c205b/" class="nav-link">MyBatis</a></li><li class="dropdown-subitem"><a href="/pages/4e88d5/" class="nav-link">MyBatis-Plus</a></li></ul></li><li class="dropdown-item"><h4>常用框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/" class="nav-link">RabbitMQ</a></li><li class="dropdown-subitem"><a href="/pages/ec2247/" class="nav-link">EasyExcel</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><!----> <span class="title" style="display:;">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>构建部署</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/4a375c/" class="nav-link">Git</a></li><li class="dropdown-subitem"><a href="/pages/374a76/" class="nav-link">Maven</a></li><li class="dropdown-subitem"><a href="/pages/711d35/" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/pages/118379/" class="nav-link">Docker</a></li><li class="dropdown-subitem"><a href="/" class="nav-link">Nginx</a></li></ul></li><li class="dropdown-item"><h4>开发调试</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/d1300e/" class="nav-link">IDEA</a></li><li class="dropdown-subitem"><a href="/pages/5451e7/" class="nav-link">VScode</a></li><li class="dropdown-subitem"><a href="/pages/155967/" class="nav-link">Swagger2</a></li><li class="dropdown-subitem"><a href="/" class="nav-link">Apifox</a></li><li class="dropdown-subitem"><a href="/" class="nav-link">Postman</a></li></ul></li><li class="dropdown-item"><h4>网络&amp;其他</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/78eaba/" aria-current="page" class="nav-link router-link-exact-active router-link-active">计算机网络</a></li><li class="dropdown-subitem"><a href="/pages/c027ac/" class="nav-link">设计模式</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/" class="nav-link">设计</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关于" class="dropdown-title"><!----> <span class="title" style="display:;">关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/46344d/" class="nav-link">好用利器</a></li><li class="dropdown-item"><!----> <a href="/pages/2c260b/" class="nav-link">细读文章</a></li><li class="dropdown-item"><!----> <a href="/" class="nav-link">看一本书</a></li><li class="dropdown-item"><!----> <a href="/" class="nav-link">日常发呆</a></li><li class="dropdown-item"><!----> <a href="/" class="nav-link">联系我</a></li></ul></div></div> <a href="https://github.com/vikicoco" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>计算机网络</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/78eaba/" aria-current="page" class="active sidebar-link">计算机网络</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/78eaba/#常用熟知端口号" class="sidebar-link">常用熟知端口号</a></li><li class="sidebar-sub-header"><a href="/pages/78eaba/#停止等待协议" class="sidebar-link">停止等待协议</a></li><li class="sidebar-sub-header"><a href="/pages/78eaba/#连续arq协议-滑动窗口协议" class="sidebar-link">连续ARQ协议&amp;滑动窗口协议</a></li><li class="sidebar-sub-header"><a href="/pages/78eaba/#以字节为单位的滑动窗口" class="sidebar-link">以字节为单位的滑动窗口</a></li><li class="sidebar-sub-header"><a href="/pages/78eaba/#超时重传的时间选择" class="sidebar-link">超时重传的时间选择</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/78eaba/#关于超时重传rto值存在的问题" class="sidebar-link">关于超时重传RTO值存在的问题</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/78eaba/#选择确认sack" class="sidebar-link">选择确认SACK</a></li><li class="sidebar-sub-header"><a href="/pages/78eaba/#利用滑动窗口实现流量控制-flow-control" class="sidebar-link">利用滑动窗口实现流量控制（Flow Control）</a></li><li class="sidebar-sub-header"><a href="/pages/78eaba/#tcp的传输效率" class="sidebar-link">TCP的传输效率</a></li><li class="sidebar-sub-header"><a href="/pages/78eaba/#tcp的拥塞控制方法" class="sidebar-link">TCP的拥塞控制方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/78eaba/#tcp拥塞控制的算法有四种" class="sidebar-link">TCP拥塞控制的算法有四种</a></li><li class="sidebar-sub-header"><a href="/pages/78eaba/#拥塞控制流程图" class="sidebar-link">拥塞控制流程图</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/78eaba/#主动队列管理aqm" class="sidebar-link">主动队列管理AQM</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/78eaba/#tcp的有限机状态" class="sidebar-link">TCP的有限机状态</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTTP&amp;HTTPS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>设计模式</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-2d79ef86><div class="articleInfo" data-v-2d79ef86><ul class="breadcrumbs" data-v-2d79ef86><li data-v-2d79ef86><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-2d79ef86></a></li> <li data-v-2d79ef86><a href="/categories/?category=%E5%B7%A5%E5%85%B7-%E7%BD%91%E7%BB%9C%26%E5%85%B6%E4%BB%96" title="分类" data-v-2d79ef86>工具-网络&amp;其他</a></li><li data-v-2d79ef86><a href="/categories/?category=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C" title="分类" data-v-2d79ef86>计算机网络</a></li></ul> <div class="info" data-v-2d79ef86><div title="作者" class="author iconfont icon-touxiang" data-v-2d79ef86><a href="javascript:;" data-v-2d79ef86>viki</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-2d79ef86><a href="javascript:;" data-v-2d79ef86>2022-01-16</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="/img/artical64.png">计算机网络<!----></h1>  <div class="theme-vdoing-content content__default"><h1 id="tcp-→-transmission-control-protocol"><a href="#tcp-→-transmission-control-protocol" class="header-anchor">#</a> TCP → Transmission Control Protocol</h1> <h2 id="常用熟知端口号"><a href="#常用熟知端口号" class="header-anchor">#</a> 常用熟知端口号</h2> <p><img src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F122897a2-fa1e-49b8-95b5-a0a7ef94f778%2FUntitled.png?table=block&amp;id=b8fd06ab-857f-4af0-82bb-4a4841d79703&amp;spaceId=ec5804cb-6662-4358-8c08-821d253175ab&amp;width=2000&amp;userId=7120e6c1-34c7-4809-813e-58d2af2bfe46&amp;cache=v2" alt="img"></p> <h1 id="tcp可靠传输的原理"><a href="#tcp可靠传输的原理" class="header-anchor">#</a> TCP可靠传输的原理</h1> <h2 id="停止等待协议"><a href="#停止等待协议" class="header-anchor">#</a> 停止等待协议</h2> <p>A → B 发送一个分组就等待 B 回送确认收到报文，然后再发送下一个分组</p> <ul><li>超时计时器</li> <li>超时重传</li> <li>A 暂时保留已发送分组的副本</li> <li>分组编号</li> <li>B→A 确认丢失</li> <li>B→A 确认迟到</li> <li>自动重传请求 ARQ （Automatic Repeat reQuest）</li></ul> <p>🗣️ 优点：协议实现简单。缺点：信道里利用率低</p> <h2 id="连续arq协议-滑动窗口协议"><a href="#连续arq协议-滑动窗口协议" class="header-anchor">#</a> 连续ARQ协议&amp;滑动窗口协议</h2> <p>A → B 发送方连续发送多个分组，接收方接收完这多个分组的最后一个分组后才发送一个确认，解决信道利用率低的问题</p> <ul><li>发送窗口</li> <li>累计确认 有优缺点</li> <li>Go-Back-N → 窗口回退N</li></ul> <p>🗣️ 当通信线路不好时，连续ARQ协议可能会带来负面影响</p> <p><a href="https://www.zhihu.com/question/34003599" target="_blank" rel="noopener noreferrer">TCP面向字节流和报文段的关系是什么？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h1 id="tcp首部格式"><a href="#tcp首部格式" class="header-anchor">#</a> TCP首部格式</h1> <img src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fda758870-a50e-492d-acba-fee2220ae79d%2FUntitled.png?table=block&amp;id=0792d1a4-fa1c-4e7d-ae21-6720b3296d27&amp;spaceId=ec5804cb-6662-4358-8c08-821d253175ab&amp;width=2000&amp;userId=7120e6c1-34c7-4809-813e-58d2af2bfe46&amp;cache=v2" alt="img" style="zoom:67%;"> <ul><li><p><strong>源端口、目的端口</strong>    [各占16位]</p></li> <li><p><strong>序号</strong>（报文段序列号）    [占32位]</p></li> <li><p><strong>确认号</strong>（若确认号为 N ，则序号 N - 1 为止的所有字节流数据都已经正确收到）    [占32位]</p></li> <li><p><strong>数据偏移</strong>（记录首部的长度，TCP报文段的起始位到TCP报文段数据部分的起始位的差值）    [占4位]</p></li> <li><p><strong>保留</strong>（为今后使用，目前置0）    [占6位]</p></li> <li><p><strong>紧急URGent</strong>（当URG字段为1时，表示紧急指针字段有效，我有紧急数据发送）</p></li> <li><p><strong>确认ACKonwledgment</strong>（ACK=1时，确认号才有效，连接建立后，ACK必须为1）</p></li> <li><p><strong>推送PuSH</strong>（交互式通信时即时交付，不必等待缓冲区满）</p></li> <li><p><strong>复位ReSet</strong>（立即释放连接，或拒绝非法连接）</p></li> <li><p><strong>同步SYNchronization</strong>（{SYN=1，ACK=0} → 表示一个连接请求报文）</p></li> <li><p><strong>终止FINis</strong>（FIN=1时，表示传输完毕即将释放连接）</p></li> <li><p><strong>窗口</strong>（即接收方的接收窗口，接收方让发送方设置其发送窗口大小的依据）</p></li> <li><p>检验和（检验首部和数据部分，和UDP一样加上伪首部）</p></li> <li><p><strong>紧急指针</strong>（与URG联合，即时窗口为0也可以发送紧急数据）</p></li> <li><p>选项</p> <p>（长度可变，首部长度就可以在这里加长）</p> <ul><li><strong>MSS</strong> → maximum segment size 数据字段最大长度 类比<strong>MTU</strong></li> <li>窗口扩大
<ul><li><strong>移位值S</strong></li></ul></li> <li>时间戳
<ul><li><strong>防止序号绕回</strong></li></ul></li> <li><strong>选择确认SACK</strong></li></ul></li> <li><p><strong>填充</strong>（将首部填充为4字节的整数倍）</p></li></ul> <h1 id="tcp可靠传输的实现"><a href="#tcp可靠传输的实现" class="header-anchor">#</a> TCP可靠传输的实现</h1> <h2 id="以字节为单位的滑动窗口"><a href="#以字节为单位的滑动窗口" class="header-anchor">#</a> 以字节为单位的滑动窗口</h2> <ul><li>滑动窗口后沿</li> <li>滑动窗口前沿</li> <li>发送窗口</li> <li>接收窗口</li> <li>可用窗口or有效窗口</li> <li>确认未收到，A超时重传</li> <li>缓存空间</li> <li>序号空间</li> <li>确认推迟时间0.5s</li></ul> <p>窗口值越大，能连续发送的数据就越多！窗口值受网络拥塞影响</p> <p>发送窗口的位置状态有两种情况，不动，前移，发送窗口不可能向后移动</p> <p>发送窗口和发送缓存的后沿是重合的</p> <p>未按序到达的数据现在接收缓存中存放，等其他数据正确到达后再按序交付给上层的应用进程</p> <img src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F36ae39b5-0bd4-4d42-835c-43db1c65d647%2FUntitled.png?table=block&amp;id=cffc10b6-0f7e-47fa-8318-2252c452410c&amp;spaceId=ec5804cb-6662-4358-8c08-821d253175ab&amp;width=2000&amp;userId=7120e6c1-34c7-4809-813e-58d2af2bfe46&amp;cache=v2" alt="img" style="zoom:67%;"> <img src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F729b9a96-fac5-4dbe-9e66-1bbe0e9fcc43%2FUntitled.png?table=block&amp;id=5979d289-7b19-4e9f-9482-ff3a7337d152&amp;spaceId=ec5804cb-6662-4358-8c08-821d253175ab&amp;width=2000&amp;userId=7120e6c1-34c7-4809-813e-58d2af2bfe46&amp;cache=v2" alt="img" style="zoom:67%;"> <img src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F70b1db35-ba12-46fe-b567-d27d095ffba5%2FUntitled.png?table=block&amp;id=71a0fa30-5069-49c5-9642-8e57171c5613&amp;spaceId=ec5804cb-6662-4358-8c08-821d253175ab&amp;width=2000&amp;userId=7120e6c1-34c7-4809-813e-58d2af2bfe46&amp;cache=v2" alt="img" style="zoom:67%;"> <img src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F0ca54b12-8c6c-435f-8157-739a0b0f8c71%2FUntitled.png?table=block&amp;id=bd461a0a-6fef-46e5-91f7-236ba50a033e&amp;spaceId=ec5804cb-6662-4358-8c08-821d253175ab&amp;width=2000&amp;userId=7120e6c1-34c7-4809-813e-58d2af2bfe46&amp;cache=v2" alt="img" style="zoom:67%;"> <h2 id="超时重传的时间选择"><a href="#超时重传的时间选择" class="header-anchor">#</a> 超时重传的时间选择</h2> <p>采用自适应算法，第一个采用测量到的RTT值（Round Trip Time），之后每次测量的值与前一次的值进行加权计算得出新的RTTs时间，0≤α&lt;1（当α趋近于0，则更新得慢，反之越快），RFC 6298推荐α时间为0.125</p> <p><img src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F3c96acfc-760a-407e-90db-4d22beead12d%2FUntitled.png?table=block&amp;id=2bb3e193-698a-449e-8352-cd1d1134519d&amp;spaceId=ec5804cb-6662-4358-8c08-821d253175ab&amp;width=2000&amp;userId=7120e6c1-34c7-4809-813e-58d2af2bfe46&amp;cache=v2" alt="img"></p> <p>超时重传时间RTO（Response TimeOut）应该略大于RTTs，RFC 6298建议 RTO=RTTs + 4RTTd，第一次的RTTd值取第一次RTT值的一半，之后的按如下公式与前一次的RTTd值计算，β推荐值为0.25</p> <p><img src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fba8c5390-e213-4b10-92c8-2e99b8bda18b%2FUntitled.png?table=block&amp;id=b54e5fab-7ae9-4a23-be44-7a57f5c83135&amp;spaceId=ec5804cb-6662-4358-8c08-821d253175ab&amp;width=2000&amp;userId=7120e6c1-34c7-4809-813e-58d2af2bfe46&amp;cache=v2" alt="img"></p> <ul><li>报文往返时间RTT</li> <li>加权平均往返时间RTTs → Smoothed （平滑往返时间）</li> <li>超时重传时间RTO RTO=RTTs + 4RTTd</li> <li>RTTD是RTT的偏差加权平均值</li></ul> <h3 id="关于超时重传rto值存在的问题"><a href="#关于超时重传rto值存在的问题" class="header-anchor">#</a> 关于超时重传RTO值存在的问题</h3> <img src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F7a5edbbc-449a-4a4e-86dd-9db220f2b841%2FUntitled.png?table=block&amp;id=c69ce483-cd31-4ac5-a202-c8af6926185b&amp;spaceId=ec5804cb-6662-4358-8c08-821d253175ab&amp;width=2000&amp;userId=7120e6c1-34c7-4809-813e-58d2af2bfe46&amp;cache=v2" alt="img" style="zoom:67%;"> <p>如何确定是对哪一个报文段的确认？</p> <p>针对这个问题，Karn提出了一个算法，只要报文段发生了重传，就不采用往返时间样本（但RTO值就无法更新），进一步解决的方法是，如果一直发生超时重传则RTO值自增为原来旧的RTO值的两倍，直到不在发生超时重传后根据公式计算新的超时重传时间RTO的值。这样较为稳妥</p> <h2 id="选择确认sack"><a href="#选择确认sack" class="header-anchor">#</a> 选择确认SACK</h2> <p>书上讲了个寂寞。。。。。</p> <ul><li>选择确认（Selective ACK）</li></ul> <h1 id="tcp的流量控制"><a href="#tcp的流量控制" class="header-anchor">#</a> TCP的流量控制</h1> <h2 id="利用滑动窗口实现流量控制-flow-control"><a href="#利用滑动窗口实现流量控制-flow-control" class="header-anchor">#</a> 利用滑动窗口实现流量控制（Flow Control）</h2> <p>让发送方发送速率不要太快，接收方来得及接收</p> <ul><li>持续计数器（persistence timer）打破非零窗口通知在链路中丢失的死锁局面</li> <li>rwnd（receiver window）接收窗口</li></ul> <p><img src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ff1e7d414-3a0d-4538-8924-75422377532b%2FUntitled.png?table=block&amp;id=c145caac-fc56-4d62-ae29-32476369b9f5&amp;spaceId=ec5804cb-6662-4358-8c08-821d253175ab&amp;width=2000&amp;userId=7120e6c1-34c7-4809-813e-58d2af2bfe46&amp;cache=v2" alt="img"></p> <h2 id="tcp的传输效率"><a href="#tcp的传输效率" class="header-anchor">#</a> TCP的传输效率</h2> <p>主要是用发送缓存 缓存更多的数据但不超过MSS，接收缓存腾出足够多的缓存空间来增大接收窗口的值，让发送方一次能发送更大的报文段！！！</p> <ul><li>最大报文段长度MSS</li> <li>TCP推送（TCP Push）</li> <li>TCP计时器</li> <li>Nagle算法（先发送一个收到确认报文后，立即发送发送缓存中的所有数据）</li> <li>糊涂窗口综合征（silly window syndrome）（接收缓存腾出的效率，确定接收窗口尽量大）</li></ul> <h1 id="tcp的拥塞控制"><a href="#tcp的拥塞控制" class="header-anchor">#</a> TCP的拥塞控制</h1> <ul><li>拥塞（congestion）</li> <li>轻度拥塞</li> <li>死锁（deadlock）</li> <li>开环控制</li> <li>闭环控制</li></ul> <h2 id="tcp的拥塞控制方法"><a href="#tcp的拥塞控制方法" class="header-anchor">#</a> TCP的拥塞控制方法</h2> <h3 id="tcp拥塞控制的算法有四种"><a href="#tcp拥塞控制的算法有四种" class="header-anchor">#</a> TCP拥塞控制的算法有四种</h3> <ul><li><p>慢开始（slow-start）</p> <ul><li>SMSS（发送方最大报文段）</li> <li>慢开始门限（ssthresh）</li></ul> <p>先发送一个报文段试探以下网络的拥塞情况，在正常收到接收方的确认后，就把拥塞窗口cwnd增大（前一个cwnd）一倍（乘法），每收到一个新报文段的确认后，就增加最多一个SMSS的数值。</p> <p>这就是慢开始，一步一步增加拥塞窗口cwnd的值，提升发送速率</p> <p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c30e5756-e8de-4474-acd1-db6394bb3d1c/Untitled.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c30e5756-e8de-4474-acd1-db6394bb3d1c/Untitled.png"></p> <p>慢开始的cwnd值要设置一个上限，超过这个上限后就使用其他拥塞控制算法</p> <p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/96c0c43e-9ecd-4ae8-a182-b21d09ac2eb8/Untitled.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/96c0c43e-9ecd-4ae8-a182-b21d09ac2eb8/Untitled.png"></p></li> <li><p>拥塞避免（congestion avoidance）</p> <p>每经过一个往返时间RTT就把发送窗口cwnd加1，成线性规律缓慢增长，比慢开始算法增长速率慢得多。</p> <p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d07b12be-d4a5-4235-b664-453bec45e9a6/Untitled.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d07b12be-d4a5-4235-b664-453bec45e9a6/Untitled.png"></p></li> <li><p>快重传（fast retransmit）</p> <p>快重传是为了解决网络中个别报文段发生丢失，导致发送方接收不到确认报文，误以为网络发生了拥塞启动慢开始算法，把拥塞窗口置为1降低了传输效率。</p> <p>快重传：接收方收到一个M1报文就回送一个确认报文，当M2报文丢失后，接收方应立即发送对M1报文的接收确认，发送方接着继续发送M3,M4报文段，此时接收方还是没有接收到M2报文段，继续发送对M1的接收确认；当发送方一连收到3个重复确认，就知道接收方没有收到M2报文段，立即启动快重传算法，重传M2报文段。</p> <p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/1f3bc386-b7f0-40f0-9039-d3d515e32866/Untitled.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/1f3bc386-b7f0-40f0-9039-d3d515e32866/Untitled.png"></p></li> <li><p>快恢复（fast recovery）</p> <p>当发送方收到了三个连续的重复确认，变启动快重传算法重传丢失的分组，并启动快恢复算法避免拥塞避免算法以为是网络拥塞了启动慢开始算法（本来对丢失的分组接收方是可以什么都不做的，所以没有快重传算法，发送方就收不到确认，以为发生了超时，直接启动慢开始算法，慢开始算法cwnd的值是重新以1开始增加，而快恢复算法不是从最开始的1增加，而是把门限值 ssthresh = cwnd / 2 = 8）,从而提高传输速率。</p></li></ul> <h3 id="拥塞控制流程图"><a href="#拥塞控制流程图" class="header-anchor">#</a> 拥塞控制流程图</h3> <p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7a5edbbc-449a-4a4e-86dd-9db220f2b841/Untitled.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7a5edbbc-449a-4a4e-86dd-9db220f2b841/Untitled.png"></p> <p>发送窗口始终不能大于接收窗口和拥塞窗口二者的最小值</p> <p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f1e7d414-3a0d-4538-8924-75422377532b/Untitled.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f1e7d414-3a0d-4538-8924-75422377532b/Untitled.png"></p> <h2 id="主动队列管理aqm"><a href="#主动队列管理aqm" class="header-anchor">#</a> 主动队列管理AQM</h2> <p>网络层路由器的分组丢失策略会引发TCP拥塞控制误认为网络发生了拥塞。</p> <p>主动队列管理是把被动化为主动，给路由器的队列设置两个参数，最小门限和最大门限</p> <p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7baa5e89-c28d-4dd1-8476-fd6d7d3a8fa7/Untitled.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7baa5e89-c28d-4dd1-8476-fd6d7d3a8fa7/Untitled.png"></p> <p>以某一概率某丢弃个分组能够避免TCP发生全局性的拥塞控制</p> <p>RED能够检测到网络拥塞的早期征兆，预检测！</p> <ul><li>路由器的处理规则，先进先出 FIFO</li> <li>尾部丢弃策略（tail-dropplicy），因为队列满了</li> <li>全局同步（global syncronization），全部TCP连接直接从慢开始状态开始（要避免全局同步现象）</li> <li>随机早期检测RED（Random Early Detection）</li></ul> <h1 id="tcp的运输连接管理"><a href="#tcp的运输连接管理" class="header-anchor">#</a> TCP的运输连接管理</h1> <ul><li><p>连接建立</p> <p>TCP三次握手</p> <p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b696ebcb-9da3-4116-92e4-4953d1f2dbef/Untitled.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b696ebcb-9da3-4116-92e4-4953d1f2dbef/Untitled.png"></p> <p>SYN=1的报文段不能携带数据，但要消耗一个序号</p> <p>ACK=1表示确认号有效，连接建立以后都为1</p> <p>其实第二次握手可以分为两次握手，Server第一次发送确认报文ACK，发送同步报文SYN，也可以说成是四次握手。</p></li> <li><p>数据传送</p></li> <li><p>连接释放</p> <p>TCP的四次挥手</p> <p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/542b5de3-183e-499b-9fa7-ec35cd08b326/Untitled.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/542b5de3-183e-499b-9fa7-ec35cd08b326/Untitled.png"></p> <ul><li><p>时间等待计时器（TIME-WAIT timer）</p></li> <li><p>MSL最长报文段寿命</p> <p>MSL存在的意义，防止A发送的最后一个ACK报文段能够顺利到达B，丢失后，B会重传FIN+ACK。如果没收到最后一个确认ACK报文，则B无法正常进入CLOSED状态。</p></li></ul></li> <li><p>保活计时器 keepalive timer</p> <p>确保客户机在发生故障后不能正常关闭连接，收到客户机数据后重置KT，当一直没有收到客户机报文段时，等KT过期（一般是两小时），两小时过后还没收到客户机的数据，那么每隔75秒发送一个探测报文，若一连发送10个探测报文无响应后，服务器便知道客户机出现了故障，便关闭这个TCP连接！！！</p></li></ul> <h3 id="tcp的有限机状态"><a href="#tcp的有限机状态" class="header-anchor">#</a> TCP的有限机状态</h3> <p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/9777bf78-e9d5-408f-9e70-812c79d58e23/Untitled.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/9777bf78-e9d5-408f-9e70-812c79d58e23/Untitled.png"></p> <h1 id="udp-→-user-datagram-protocol"><a href="#udp-→-user-datagram-protocol" class="header-anchor">#</a> UDP → User Datagram Protocol</h1></div></div> <div class="page-slot page-slot-bottom">
  <div class="wwads-cn wwads-horizontal pageB" data-id="136" style="width:100%;max-height:80px;min-height:auto;"></div>
  <style>
    .pageB img{width:80px!important;}
    .wwads-horizontal .wwads-text, .wwads-content .wwads-text{line-height:1;}
  </style>
  </div> <div class="page-edit"><!----> <!----> <!----></div> <div class="page-nav-wapper"><!----> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/pages/c027ac/">设计模式总结</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="/" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/vikicoco" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/discover/playlist" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2021-2022
    <span>viki | MIT License</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <div class="custom-html-window custom-html-window-rb" style="display:;"><div class="custom-wrapper"><span class="close-but">×</span> <div>
    <div class="wwads-cn wwads-vertical windowRB" data-id="136" style="max-width:160px;
    min-width: auto;min-height:auto;"></div>
    <style>
      .windowRB{ padding: 0;}
      .windowRB .wwads-img{margin-top: 10px;}
      .windowRB .wwads-content{margin: 0 10px 10px 10px;}
      .custom-html-window-rb .close-but{
        display: none;
      }
    </style>
  </div></div></div></div><div class="global-ui"><APlayer audio="" fixed="true" theme="#b7daff" loop="loop" order="random" preload="auto" volume="0.2" mutex="true" lrc-type="0" list-max-height="250" storage-name="vuepress-plugin-meting" id="aplayer-fixed"></APlayer></div></div>
    <script src="/assets/js/app.9f1ace71.js" defer></script><script src="/assets/js/2.acae172f.js" defer></script><script src="/assets/js/3.71c56e22.js" defer></script><script src="/assets/js/65.67a9e6c2.js" defer></script>
  </body>
</html>
