(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{481:function(s,t,a){s.exports=a.p+"assets/img/image-20211219175102126.64be9aad.png"},482:function(s,t,a){s.exports=a.p+"assets/img/image-20211219171356120.234d5b14.png"},483:function(s,t,a){s.exports=a.p+"assets/img/image-20211219173327500.ae6f3498.png"},484:function(s,t,a){s.exports=a.p+"assets/img/image-20211219174337335.cdae2c94.png"},485:function(s,t,a){s.exports=a.p+"assets/img/image-20211219184738747.5f23352b.png"},539:function(s,t,a){"use strict";a.r(t);var n=a(16),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"mongodb简介和安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mongodb简介和安装"}},[s._v("#")]),s._v(" MongoDB简介和安装")]),s._v(" "),n("p",[n("strong",[s._v("官方网站")])]),s._v(" "),n("p",[s._v("https://www.mongodb.com/")]),s._v(" "),n("p",[n("strong",[s._v("官方文档")])]),s._v(" "),n("p",[s._v("https://docs.mongodb.com/guides/")]),s._v(" "),n("p",[s._v("https://docs.docker.com/get-started/overview/")]),s._v(" "),n("p",[n("strong",[s._v("可视化交互工具文档")])]),s._v(" "),n("p",[s._v("https://docs.mongodb.com/compass/master/")]),s._v(" "),n("h2",{attrs:{id:"什么是mongodb"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#什么是mongodb"}},[s._v("#")]),s._v(" 什么是MongoDB")]),s._v(" "),n("p",[s._v("MongoDB 是由C++语言编写的，是一个基于"),n("strong",[s._v("分布式文件存储")]),s._v("的开源数据库系统。")]),s._v(" "),n("blockquote",[n("p",[s._v("分布式文件存储，一个文件拆分称多个文件，分机器存储，再错开备份，宕一台或一分文件损坏，都能恢复完整文件")]),s._v(" "),n("p",[s._v("就是 分片，复制 {elastic search}")]),s._v(" "),n("p",[s._v("文件类型是以key-value存储，类似json格式存储，称为bson")]),s._v(" "),n("p",[s._v("支持索引，支持复杂查询，和关系型数据库最像的noSQL数据库")])]),s._v(" "),n("p",[s._v("在高负载的情况下，添加更多的节点，可以保证服务器性能。")]),s._v(" "),n("p",[s._v("MongoDB 旨在为WEB应用提供可扩展的高性能数据存储解决方案。")]),s._v(" "),n("p",[s._v("MongoDB 将数据存储为一个文档，数据结构由键值(key=>value)对组成。MongoDB 文档类似于 JSON 对象。字段值可以包含其他文档，数组及文档数组。")]),s._v(" "),n("h2",{attrs:{id:"mangodb特点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mangodb特点"}},[s._v("#")]),s._v(" MangoDB特点")]),s._v(" "),n("p",[s._v("1、MongoDB 是一个面向文档存储的数据库，操作起来比较简单和容易。")]),s._v(" "),n("p",[s._v('2、你可以在MongoDB记录中设置任何属性的索引 (如：FirstName="Sameer",Address="8 Gandhi Road")来实现更快的排序。')]),s._v(" "),n("p",[s._v("3、你可以通过本地或者网络创建数据镜像，这使得MongoDB有更强的扩展性。")]),s._v(" "),n("p",[s._v("4、如果负载的增加（需要更多的存储空间和更强的处理能力），它可以分布在计算机网络中的其他节点上这就是所谓的分片。")]),s._v(" "),n("p",[s._v("5、Mongo支持丰富的查询表达式。查询指令使用JSON形式的标记，可轻易查询文档中内嵌的对象及数组。")]),s._v(" "),n("p",[s._v("6、MongoDb 使用update()命令可以实现替换完成的文档（数据）或者一些指定的数据字段。")]),s._v(" "),n("p",[s._v("7、Mongodb中的Map/reduce主要是用来对数据进行批量处理和聚合操作。")]),s._v(" "),n("p",[s._v("8、Map和Reduce。Map函数调用emit(key,value)遍历集合中所有的记录，将key与value传给Reduce函数进行处理。")]),s._v(" "),n("p",[s._v("9、Map函数和Reduce函数是使用Javascript编写的，并可以通过db.runCommand或mapreduce命令来执行MapReduce操作。")]),s._v(" "),n("p",[s._v("10、GridFS是MongoDB中的一个内置功能，可以用于存放大量小文件。")]),s._v(" "),n("p",[s._v("11、MongoDB允许在服务端执行脚本，可以用Javascript编写某个函数，直接在服务端执行，也可以把函数的定义存储在服务端，下次直接调用即可。")]),s._v(" "),n("p",[s._v("12、MongoDB支持各种编程语言:RUBY，PYTHON，JAVA，C++，PHP，C#等多种语言。")]),s._v(" "),n("p",[s._v("13、MongoDB安装简单。")]),s._v(" "),n("h2",{attrs:{id:"docker安装mongodb"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker安装mongodb"}},[s._v("#")]),s._v(" Docker安装MongoDB")]),s._v(" "),n("p",[n("strong",[s._v("1.拉取镜像")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull mongo:4.4.8\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("strong",[s._v("2.创建并启动容器")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("//对data目录授权\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" data\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -d --restart"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("always -p "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("27017")]),s._v(":27017 --name mymongo -v /data/db:/data/db -d mongo:4.4.8\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -d 表示创建守护式容器在后台运行")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --restart 表示")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -p 表示宿主机和容器之间的端口映射")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -v 表示目录映射关系[直接在宿主机上修改文件]")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[n("strong",[s._v("3.进入容器")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it mymongo /bin/bash\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("strong",[s._v("4.登录mongoDB")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("mongo\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h2",{attrs:{id:"mongodb常用命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mongodb常用命令"}},[s._v("#")]),s._v(" MongoDB常用命令")]),s._v(" "),n("blockquote",[n("p",[s._v("MongoDB的主键默认是 _id 其类型默认是 ObjectId类型")])]),s._v(" "),n("blockquote",[n("p",[s._v("Objectld使用12字节的存储空间，每个字节二位十六进制数字，是一个24位的字符串")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(481),alt:"image-20211219175102126"}})]),s._v(" "),n("p",[s._v("MongDB中的文档就是json格式的数据，字段就相当于json中的键")]),s._v(" "),n("p",[n("img",{attrs:{src:a(482),alt:"image-20211219171356120"}})]),s._v(" "),n("h3",{attrs:{id:"数据库的相关操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#数据库的相关操作"}},[s._v("#")]),s._v(" 数据库的相关操作")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查询命令帮助")]),s._v("\ndb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("help"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查询所有数据库")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" dbs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#使用/切换/创建数据库[use test 若数据库不存在则创建]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("use")]),s._v(" test"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看当前所在库")]),s._v("\ndb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("getName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#删除当前使用数据库")]),s._v("\ndb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dropDatabase"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("h3",{attrs:{id:"文档的数据操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#文档的数据操作"}},[s._v("#")]),s._v(" 文档的数据操作")]),s._v(" "),n("p",[s._v("文档是一组键值(key-value)对(即BSON)。MongoDB 的文档不需要设置相同的字段，并且相同的字段不需要相同的数据类型，这与关系型数据库有很大的区别，也是 MongoDB 非常突出的特点。")]),s._v(" "),n("p",[n("img",{attrs:{src:a(483),alt:"image-20211219173327500"}})]),s._v(" "),n("h4",{attrs:{id:"插入操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#插入操作"}},[s._v("#")]),s._v(" 插入操作")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#insert User集合名")]),s._v("\ndb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("User")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("save")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("{name:"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"liu"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("age:"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("sex:"),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h4",{attrs:{id:"查询操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查询操作"}},[s._v("#")]),s._v(" 查询操作")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查询所有")]),s._v("\ndb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("User")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#字段/域条件查询")]),s._v("\ndb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("User")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("{name:"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"liu"')]),s._v("}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#字段/域条件查询，指定字段显示")]),s._v("\ndb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("User")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("{name:"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"liu"')]),s._v("}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("{"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'name'")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'age'")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#排序查询，使用sort()方法，1表示升序排序，-1表示降序排序")]),s._v("\ndb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("User")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sort"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("{age:"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#条件查询，指定指端显示，按年龄排序")]),s._v("\ndb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("User")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("{name:"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"liu"')]),s._v("}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("{"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'name'")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'age'")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sort"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("{age:"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#分页查询实现，读取指定量的数据")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查询跳过第m行开始后面的n条数据")]),s._v("\ndb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("User")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("skip"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("m"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("limit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ndb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("User")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("skip"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("limit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#多条件查询{$in:[xx,xx,xx]}")]),s._v("\ndb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("User")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("{age:{$"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("in")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#计数查询,使用count()函数进行查询\t{$gt:xx}大于>")]),s._v("\ndb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("User")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("{age:{$gt:"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("}}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#多条件查询{$or:[{条件一},{条件二}]}")]),s._v("\ndb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("User")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("{$"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("or")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("{age:"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("{age:"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br")])]),n("h4",{attrs:{id:"聚合查询"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#聚合查询"}},[s._v("#")]),s._v(" 聚合查询")]),s._v(" "),n("blockquote",[n("p",[s._v("参考如下两个链接，就类似于Linux中的管道操作")])]),s._v(" "),n("p",[s._v("聚合查询入门 https://www.runoob.com/mongodb/mongodb-aggregate.html")]),s._v(" "),n("p",[s._v("聚合查询高级操作 https://www.cnblogs.com/zhoujie/p/mongo1.html")]),s._v(" "),n("p",[n("img",{attrs:{src:a(484),alt:"image-20211219174337335"}})]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#聚合查询使用aggregate，MySQL对比栗子")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# select by_user, count(*) from article group by by_user")]),s._v("\n\ndb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("article"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("aggregate"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("{$"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" : {_id : "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$by_user"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" num_tutorial : {$sum : "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("}}}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h4",{attrs:{id:"更新操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#更新操作"}},[s._v("#")]),s._v(" 更新操作")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#按条件更新某个文档中域的值\tupdate({更新条件},{$set{更新的值}})")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#upsert:如FI标记录不存在，是否插入新文档。")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#multi:是否更新多个文档")]),s._v("\ndb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("User")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("{name:"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"liu"')]),s._v("}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("{$"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(":{age:"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("sex:"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("}}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h4",{attrs:{id:"删除操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#删除操作"}},[s._v("#")]),s._v(" 删除操作")]),s._v(" "),n("blockquote",[n("p",[s._v("remove()用于删除单个或全部文档，删除后的文档无法恢复")])]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[s._v("db"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("User")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("remove"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("remove()方法已经过时")]),s._v(" "),n("p",[n("img",{attrs:{src:a(485),alt:"image-20211219184738747"}})]),s._v(" "),n("p",[s._v("https://www.runoob.com/mongodb/mongodb-remove.html")])])}),[],!1,null,null,null);t.default=e.exports}}]);